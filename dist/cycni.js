/*
	@preserve
	title: cycni
	version: 1.0.3
	license: mpl-2.0
	author: alexander elias
*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Cycni',b):a.Cycni=b()})(this,function(){'use strict';function a(m,n,o,q){return null===o||void 0===o?q(!1):'String'===o.constructor.name&&o.includes(m[n])?q(!0):'RegExp'===o.constructor.name&&o.test(m[n])?q(!0):'Function'===o.constructor.name&&o(m[n],m,n)?q(!0):q(!1)}function b(m){return null===m||void 0===m?[]:('String'===m.constructor.name?(m=m.replace('[','.'),m=m.replace(']',''),m=m.split('.')):'Number'===m.constructor.name&&(m=[m]),m)}function d(m,n,o,q){if((null===q||void 0===q)&&(q=o,o=void 0),q===g){if(null===n||void 0===n)return m;}else if(q===h&&(null===n||void 0===n))return;n=b(n);for(var r=0,s=null,u=n.length;r<u;r++){if(s=n[r],null===m[s]||void 0===m[s])if(q===f)isNaN(n)&&(isNaN(n[r+1])?m[s]={}:m[s]=[]);else{if(q===g)return;if(q===h)return}if(r!==u-1)m=m[s];else if(q===f)m[s]=o;else{if(q===g)return m[s];q===h&&('Object'===m.constructor.name?delete m[s]:'Array'===m.constructor.name&&m.splice(s,1))}}}function e(m){m.data=m.data||{},m.type=m.type||g,m.query=m.query||{},m.collection=m.collection||{};var n=m.type,o=m.collection,q=b(m.query.path),r=q.length,s=null,u=0,w=0===r?0:r-1,x=m.base;x=x||0,x=0>x?0:x,x=x>w?w:x,x=w-x;var y=null,z=null;for(u;u<r;u++){if(s=q[u],null===o[s]||void 0===o[s])return;if(u===x&&(y=o,z=s),u==w)return a(o,s,m.query.value,function(A){if(A)return d(y,m.data.path||z,m.data.value,n)});o=o[s]}}var f=2,g=3,h=5,j={};return j.GET=g,j.SET=f,j.REMOVE=h,j.interact=function(m){return m=m||{},e(m)},j.get=function(m){return m=m||{},m.type=g,e(m)},j.set=function(m){return m=m||{},m.type=f,e(m)},j.remove=function(m){return m=m||{},m.type=h,e(m)},j});