/*
	@preserve
	title: cycni
	version: 1.1.0
	license: mpl-2.0
	author: alexander elias
*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Cycni',b):a.Cycni=b()})(this,function(){'use strict';var a={BREAK:2,CONTINUE:3};return a.clone=function(b){var d;if(null===b||void 0===b||'object'!=typeof b)return b;if('Date'===b.constructor.name)d=new Date,d.setTime(b.getTime());else if('Array'===b.constructor.name){d=[];for(var e=0,f=b.length;e<f;e++)d[e]=this.clone(b[e])}else if('Object'===b.constructor.name)for(var g in d={},b)b.hasOwnProperty(g)&&(d[g]=this.clone(b[g]));else throw new Error('Unable to clone variable. Type is not supported');return d},a.set=function(b,d,e){return b[d]=e},a.get=function(b,d){return b[d]},a.remove=function(b,d){return'Object'===b.constructor.name?(delete b[d],b[d]):'Array'===b.constructor.name?b.splice(d,1)[0]:void 0},a.paths=function(b){return'string'==typeof b&&0<b.length?b.split('.'):[]},a.traverse=function(b,d,e){var f,g=0,h=a.paths(d),j=h.length,k=0===j?0:j-1;for(g;g<j;g++){if(f=h[g],g==k)return{key:f,collection:b,value:e?e.call(a,b,f):void 0};b=b[f]}},a.interact=function(b,d){if(!b)throw new Error('collection required');if(!d)throw new Error('actions required');var g,h,j,k,m,n,o,e=[],f=[];for(g=0,h=d.length;g<h;g++)if(n=d[g],'Array'===b.constructor.name){for(j=0,k=b.length;j<k;j++){if(n.condition)if(o=n.condition(b,j),o===a.BREAK)break;else if(o===a.CONTINUE)continue;n.path?(m=a.traverse(b,n.path,n.action),!0===n.base&&(b=m.collection[m.key])):m={value:n.action?n.action.call(a,b,j):void 0},f.push(m.value)}e.push(f)}else m=a.traverse(b,n.path,n.action),b=!0===n.base?m.collection[m.key]:b,e.push(m.value);return e},a});
