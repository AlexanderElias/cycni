/*
			title: cycni
		version: 1.2.0
		license: mpl-2.0
		author: alexander elias

		This Source Code Form is subject to the terms of the Mozilla Public
		License, v. 2.0. If a copy of the MPL was not distributed with this
		file, You can obtain one at http://mozilla.org/MPL/2.0/.
	*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Cycni',b):a.Cycni=b()})(this,function(){'use strict';return{END:'$END',START:'$START',clone:function(b){var d;if(null===b||b===void 0||'object'!=typeof b)return b;if('Date'===b.constructor.name)d=new Date,d.setTime(b.getTime());else if('Array'===b.constructor.name){d=[];for(var f=0,g=b.length;f<g;f++)d[f]=this.clone(b[f])}else if('Object'===b.constructor.name)for(var h in d={},b)b.hasOwnProperty(h)&&(d[h]=this.clone(b[h]));else throw new Error('Unable to clone variable. Type is not supported');return d},traverse:function(b,d,f,g){var h,j=0,m=d.length,n=0===m?0:m-1;for(j;j<n;j++){if(h=d[j],!(h in b))if(g)b[h]=isNaN(d[j+1])?{}:[];else return f.call(this,new Error('Cannot read property '+h+' of undefined'));b=b[h]}return f.call(this,void 0,b,d[n])},get:function(b,d,f){return this.traverse(b,d,function(g,h,j){return g?f(g):f(g,h[j])})},set:function(b,d,f,g){return this.traverse(b,d,function(h,j,m){return h?g(h):('Object'===j.constructor.name?j[m]=f:'Array'===j.constructor.name&&j.splice(m,1,f),g(h))},!0)},add:function(b,d,f,g){return this.traverse(b,d,function(h,j,m){return h?g(h):'Object'!==j.constructor.name||m in j?'Array'===j.constructor.name&&1>m?(j.splice(0===m?0:j.length,0,f),g(h)):g(new Error('Cannot add property '+m+' already exists')):(j[m]=f,g(h))})},has:function(b,d,f){return this.traverse(b,d,function(g,h,j){return g?f(g):f(g,j in h)})},remove:function(b,d,f){return this.traverse(b,d,function(g,h,j){if(g)return f(g);var m;return'Object'===h.constructor.name?(m=h[j],delete h[j]):'Array'===h.constructor.name&&(m=h.splice(j,1)),f(g,m)})}}});