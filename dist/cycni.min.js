/*
	@preserve
	title: cycni
	version: 1.1.1
	license: mpl-2.0
	author: alexander elias
*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Cycni',b):a.Cycni=b()})(this,function(){'use strict';var a={BREAK:2,CONTINUE:3};return a.clone=function(b){var c;if(null===b||void 0===b||'object'!=typeof b)return b;if('Date'===b.constructor.name)c=new Date,c.setTime(b.getTime());else if('Array'===b.constructor.name){c=[];for(var d=0,e=b.length;d<e;d++)c[d]=this.clone(b[d])}else if('Object'===b.constructor.name)for(var f in c={},b)b.hasOwnProperty(f)&&(c[f]=this.clone(b[f]));else throw new Error('Unable to clone variable. Type is not supported');return c},a.set=function(b,c,d){return b[c]=d},a.get=function(b,c){return b[c]},a.remove=function(b,c){return'Object'===b.constructor.name?(delete b[c],b[c]):'Array'===b.constructor.name?b.splice(c,1)[0]:void 0},a.paths=function(b){return b.split('.')},a.traverse=function(b,c,d){var e,f=0,g=c.length,h=0===g?0:g-1;for(f;f<g;f++){if(e=c[f],f==h)return{key:e,collection:b,value:d&&'Function'===d.constructor.name?d.call(a,b,e):void 0};b=b[e]}},a.arr=function(b,c){var f,j,d=0,e=b.length,g={},h=[];for(d;d<e;d++){if(c.condition&&'Function'===c.condition.constructor.name)if(j=c.condition.call(a,b,d),j===a.BREAK)break;else if(j===a.CONTINUE)continue;c.path?(f=d+'.'+c.path,f=a.paths(f),g=a.traverse(b,f,c.action)):g={value:c.action&&'Function'===c.action.constructor.name?c.action.call(a,b,d):void 0},h.push(g.value)}return h},a.obj=function(b,c){var d,e;return d=c.path||this.base,d=a.paths(d),e=a.traverse(b,d,c.action),!0===c.base&&(this.base=e.key,this.collection=e.collection[e.key]),e.value},a.interact=function(b,c){if(!b)throw new Error('collection required');if(!c)throw new Error('actions required');this.base=null,this.collection=b;var d,e,f=[],g={},h=0,j=c.length;for(h;h<j;h++){if(d=c[h],(null===d.each||void 0===d.each)&&(d.each=!0),(null===d.base||void 0===d.base)&&(d.base=!0),d.condition&&'Function'===d.condition.constructor.name)if(e=d.condition.call(a,this.collection,h),e===a.BREAK)break;else if(e===a.CONTINUE)continue;'Array'===this.collection.constructor.name&&!0===d.each?(g=a.arr(this.collection,d),void 0!==g&&f.push(g)):(g=a.obj(this.collection,d),void 0!==g&&f.push(g))}return f},a});