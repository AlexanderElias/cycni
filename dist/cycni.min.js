/*
	@preserve
	title: cycni
	version: 1.0.3
	license: mpl-2.0
	author: alexander elias
*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Cycni',b):a.Cycni=b()})(this,function(){'use strict';function a(n,o,q,r){return null===q||void 0===q?r(!1):'String'===q.constructor.name&&q.includes(n[o])?r(!0):'RegExp'===q.constructor.name&&q.test(n[o])?r(!0):'Function'===q.constructor.name&&q(n[o],n,o)?r(!0):r(!1)}function b(n){return null===n||void 0===n?n=[]:'String'===n.constructor.name?n=n.replace('[','.').replace(']','').split('.'):'Number'===n.constructor.name&&(n=[n]),n}function d(n,o,q,r){if((null===r||void 0===r)&&(r=q,q=void 0),r===h){if(null===o||void 0===o)return n;}else if(r===j&&(null===o||void 0===o))return;o=b(o);for(var s=0,u=null,w=o.length;s<w;s++){if(u=o[s],null===n[u]||void 0===n[u])if(r===g)isNaN(o)&&(isNaN(o[s+1])?n[u]={}:n[u]=[]);else{if(r===h)return;if(r===j)return}if(s!==w-1)n=n[u];else if(r===g)n[u]=q;else{if(r===h)return n[u];r===j&&('Object'===n.constructor.name?delete n[u]:'Array'===n.constructor.name&&n.splice(u,1))}}}function e(n){n.data=n.data||{},n.type=n.type||h,n.query=n.query||{},n.collection=n.collection||{};var o=n.type,q=n.collection,r=b(n.query.path),s=r.length,u=null,w=0,x=0===s?0:s-1,y=n.base;y=y||0,y=0>y?0:y,y=y>x?x:y,y=x-y;var z=null,A=null;for(w;w<s;w++){if(u=r[w],null===q[u]||void 0===q[u])return;if(w===y&&(z=q,A=u),w==x)return a(q,u,n.query.value,function(B){if(B)return d(z,n.data.path||A,n.data.value,o)});q=q[u]}}function f(){this.GET=h,this.SET=g,this.REMOVE=j}var g=2,h=3,j=5;f.prototype.interact=function(n){return n=n||{},e(n)},f.prototype.get=function(n){return n=n||{},n.type=h,e(n)},f.prototype.set=function(n){return n=n||{},n.type=g,e(n)},f.prototype.remove=function(n){return n=n||{},n.type=j,e(n)};var m=new f;return m});